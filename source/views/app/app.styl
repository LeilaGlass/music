@charset "utf-8"
@import url("http://fonts.googleapis.com/css?family=Raleway:300,500")
@import './vendor'

$normal           = 300
$bold             = 500
$white            = #eee
$black            = #666
$red              = #dd777a
$blue             = #79c
$green            = #8c8
$brown            = #7F6A5B
$color            = hsl(220, 15%, 30%)
$highlight        = lighten($color, 15%)
$background-color = $white

blue      = hsl(200, 70, 50)
dark-blue = hsl(250, 50, 40)

modal-animation-duration = 0.7s

square()
  &:before
    content: ''
    display: block
    padding-top: 100%

bar-blue-background()
  db = rgba(dark-blue, 0.7)
  tp = transparent
  background-color rgba(blue, 0.9)
  background-image radial-gradient(circle closest-corner at 20% 0, db, tp),
    radial-gradient(circle closest-corner at 75% 0, db, tp),
    linear-gradient(to bottom, blue, tp)


blue-background()
  background-color blue
  background-image repeating-radial-gradient(circle 1000px at 20% -30%, transparent, rgba(dark-blue, 0.7), transparent),
    repeating-radial-gradient(circle 1000px at right bottom, transparent, rgba(dark-blue, 0.5), transparent),
    repeating-radial-gradient(circle 1000px at left bottom, transparent, rgba(dark-blue, 0.5), transparent)
  background-attachment fixed

::-webkit-scrollbar
  display: none

*
  box-sizing: border-box

html, body
  min-width: 100%
  padding: 0
  margin: 0

html
  height: 100%

body
  min-height: 100%
  display: -webkit-flex
  font-weight: $normal
  font-family: Raleway, sans-serif
  background-color #fff
  color $color
  font-size: 20px
  line-height: 40px
  cursor: default
  transition: background-color 0.3s, width 0.4s
  // -webkit-overflow-scrolling: touch
  -webkit-user-select: none
  -webkit-touch-callout: none
  -webkit-tap-highlight-color: rgba(0,0,0,0)

a
  text-decoration: none
  color: inherit

button
  -webkit-appearance: none
  border: 0
  display: inline-block
  padding: 0
  font-family inherit
  font-weight inherit
  margin: 0
  background: none
  color: inherit
  outline: none
  font-size: inherit
  cursor: pointer


button, [class *= 'icon']
  padding: 4px

h1, h2, h3
  font-weight: $normal
  line-height: 1.5em
  padding 0.75em
  letter-spacing: -1px

h1
  font-size: 40px

h2
  font-size: 30px

img
  vertical-align: middle

ul
  margin: 0
  padding: 0
  display: block

li
  list-style-type: none

input
  border-radius: 0
  -webkit-appearance: none
  font-weight: $normal
  border: none
  color: inherit
  font-size: inherit
  font-family: inherit
  line-height: 1em
  outline: none

::-webkit-search-cancel-button
  -webkit-appearance: none
  &:before
    content: '\f057'
    font-family: FontAwesome
  color: rgba(0,0,0, 0.2)
  padding-right: 10px

.modal
  position fixed
  top 60px
  left 0
  right 300px
  bottom 0
  z-index 50
  display -webkit-flex
  align-items center
  justify-content space-around
  background-image radial-gradient(farthest-corner, transparent, rgba(black, 0.8))
  animation fade-in modal-animation-duration
  > div
    box-shadow: 0 0 100px rgba(black, 0.5)
  > .close
    z-index: 1000
    font-size: 1.2em
    width: 40px
    line-height: 40px
    position: absolute
    top: 0
    left: 0

.button
  color       $blue

.photo
  max-width  95%
  box-shadow 0 0 50px rgba(black, 0.5)

.icon-random
  padding-top 8px

.freeze
  overflow hidden

.clear
  clear both

.blur
  // filter blur(15px)
  // @media (max-width: 500px)
  //   filter none

.invisible
  visibility hidden

.accent
  color: $color + #555

.click-shield
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0

@keyframes fade-in
  from
    opacity 0
  to
    opacity 1

@keyframes slide-down
  from
    transform translate3d(0, -100%, 0)
  to
    transform translate3d(0, 0, 0)

.loading
  height: 100%
  display: -webkit-flex
  -webkit-justify-content center
  -webkit-align-items: center
  &:before
    content: 'loading...'

.static-page
  position fixed
  top 0
  left 0
  right 0
  bottom 0
  overflow auto
  background-color white
  padding-top 60px
  text-align center
  color $black

#bar > #show-sidebar
  display: none
  -webkit-flex-shrink: 0
  &.slide-to-left:before
    content: '\f054'

#container
  width: 100%

#bar
  white-space nowrap
  -webkit-transition: height 0.25s
  display: -webkit-flex
  -webkit-align-items: center
  height: 60px
  position: fixed
  top: 0
  left: 0
  right: 0
  z-index: 100
  bar-blue-background()
  border-bottom 1px solid rgba(white, 0.1)
  -webkit-border-image-source linear-gradient(to right, white, black)
  color $color
  color white
  box-shadow: 0 0 100px rgba(0,0,0, 0.5)
  &, button
    text-shadow 0 0 3px rgba(black, 0.2)
  a, button
    &:active
      color: rgba(white, 0.8)
  > a, > button
    -webkit-align-self: stretch
    -webkit-flex-shrink: 1
    overflow hidden
    text-overflow ellipsis
    display: -webkit-flex
    padding 2px 8px 0
    border-bottom 2px solid transparent
    transition border-color 0.5s
    -webkit-align-items: center
    -webkit-justify-content: center
    &:hover
      border-color rgba(white, 0.3)
    &.current
      border-color white
      -webkit-mask-image none

#logo
  width: 60px
  text-align: center
  cursor: default
  -webkit-flex-shrink: 0
  box-sizing: border-box
  &:active
    color rgba(white, 0.8)

button:active, a:active
  color: $highlight

#search
  width: 100%
  -webkit-flex: 100px 1 1
  margin: 0
  padding-left: 10px
  height: 100%
  background: none
  transition: background-color 0.2s
  overflow: hidden
  text-overflow: ellipsis
  &::-webkit-input-placeholder
    color: rgba(white, 0.6)

#player
  width: 300px
  z-index: 20
  position: relative
  display: -webkit-flex
  -webkit-justify-content: center
  -webkit-align-items: center
  -webkit-align-self: stretch
  -webkit-flex-shrink: 0
  > [class *= 'icon']
    width 30px
    text-align: center
  > .play, > .pause
    font-size: 26px
    width 60px
  > .next, > .prev
    font-size: 16px
  > .shuffle, > .repeat
    opacity: 0.5
    font-size: 14px
    -webkit-flex-grow 1
    &.is-on
      opacity: 1
    &:hover
      opacity: 0.75

#volume
  -webkit-appearance: none
  background-color: $color + #444
  height: 2px
  border-radius: 8px
  &::-webkit-slider-thumb
    -webkit-appearance: none
    background-color: $color
    width: 10px
    height: 10px
    border-radius: 20px
    &:active
      background-color: $blue

#progress
  position: absolute
  left: 5px
  right: 5px
  bottom: 0
  height: 10px
  cursor: pointer
  z-index: 1
  > .position, > .empty
    height: 2px
    position: absolute
    bottom: 3px
    left: 0
    z-index: 1
    background-color: white
    width: 0
    transition: height 0.2s
    border-radius: 9px
  > .empty
    background-color rgba(white, 0.2)
    width 100%

#main
  margin-right: 300px
  position: relative
  z-index: 1
  overflow: auto

#content
  height: 100%
  > ul
    -webkit-transition: padding-top 0.25s
    box-sizing: border-box
    overflow: hidden
    height: 100%
    padding-top: 60px

#sidebar
  overflow: hidden
  position: fixed
  width: 300px
  top: 0
  bottom: 0
  right: 0
  z-index: 90
  -webkit-flex-shrink: 0
  display: -webkit-flex
  -webkit-flex-direction: column

#station
  height: 100px
  width: 300px

.track-name, .album-name, .artist-name
  white-space: nowrap
  overflow: hidden
  // text-overflow: ellipsis
  -webkit-mask-image: linear-gradient(to left, transparent, black 10px)

.unavailable
  opacity: 0.3
  &:hover
    > .play, > .queue
      display: none

.album-art
  width: 75px
  -webkit-flex-shrink: 0

@media (max-width: 780px)
  .album-list > .album
    width: 150px
  #progress
    height: 15px
  .track-name, .album-name
    display: block
  .track-list
    -webkit-columns: 1
  #bar > #show-sidebar
    display: inline-block
  #bar, #sidebar
    right: -300px
    -webkit-transition all 0.5s
  #container.slide-to-left
    #bar
      left -300px
      right 0px
    // #main
    //   margin-right 300px
    //   margin-left -300px
    #sidebar
      background-color rgba(white, 0.7)
      box-shadow 0 0 50px rgba(black, 0.7)
      right 0
  #main
    margin-right: 0
    -webkit-transition: margin 0.5s
  .modal
    right: 0

@media (max-height: 400px)
  #bar
    height: 40px
    > [class *= 'icon']
      line-height: 40px
  #content > ul, #queue
    padding-top: 40px
